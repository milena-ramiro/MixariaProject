@model EconomizeMais.tbEstab

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Alterar</title>
</head>
<body>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")


    @using (Html.BeginForm(Html.BeginForm("Edit", "tbEstab",
            FormMethod.Post, new { enctype = "multipart/form-data" })))
    {
        @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Estabelecimento</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Codigo)
        @Html.HiddenFor(model => model.Logo)
        @Html.HiddenFor(model => model.LogoTipo)
        <b>Nome:</b>

        @Html.EditorFor(model => model.Nome, new { htmlAttributes = new { @class = "form-control", maxlength = "60", size = "60" } })
        @Html.ValidationMessageFor(model => model.Nome, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Rua:</b>

        @Html.EditorFor(model => model.Rua, new { htmlAttributes = new { @class = "form-control", maxlength = "60", size = "60" } })
        @Html.ValidationMessageFor(model => model.Rua, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Nro.:</b>

        @Html.EditorFor(model => model.Nro, new { htmlAttributes = new { @class = "form-control", maxlength = "60", size = "60" } })
        @Html.ValidationMessageFor(model => model.Nro, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Bairro:</b>

        @Html.EditorFor(model => model.Bairro, new { htmlAttributes = new { @class = "form-control", maxlength = "60", size = "60" } })
        @Html.ValidationMessageFor(model => model.Bairro, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Tipo:</b>

        @Html.DropDownListFor(m => m.TipoEst,
                                     (SelectList)ViewBag.tipo, "Selecionar", new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.TipoEst, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Municipio:</b>

        @Html.DropDownListFor(model => model.Municipio,
                                     (SelectList)ViewBag.munic, "Selecionar", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Municipio, "", new { @class = "text-danger" })

        <br />
        <br />

        <b>Logo: </b>
        <br />

        @if (Model.Logo != null)
        {
            <img src="@Url.Action("ExibirLogoEstab","Arquivo", new { id =Model.Codigo })" width="150" height="150" />
            @Html.ValidationMessageFor(model => model.Logo, "", new { @class = "text-danger" })
            @Html.ValidationMessageFor(model => model.LogoTipo, "", new { @class = "text-danger" })
        }
        else
        {
            <img src="~/Imagens/semimagem.jpg" width="150" height="150" />

        }

        <br />
        <br />

        <b>Nova Imagem:</b>

        <input type="file" id="Logo" name="upload" />

        <br />
        <br />

        <input type="submit" value="Gravar" class="btn btn-default" />

    </div>
    }

    <div>
        @Html.ActionLink("Voltar", "Catalogo")
    </div>

</body>
</html>